(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{398:function(e,a,t){"use strict";var n=t(168),r=t(64);a.__esModule=!0,a.default=void 0;var l=r(t(65)),o=r(t(94)),i=r(t(93)),c=n(t(0)),s=t(95),m=r(t(404)),f=r(t(454)),d=r(t(481)),u=r(t(484)),g=(0,f.default)("h5"),p=(0,f.default)("h6"),E=(0,m.default)("card-body"),h=c.default.forwardRef(function(e,a){var t=e.bsPrefix,n=e.className,r=e.bg,m=e.text,f=e.border,u=e.body,g=e.children,p=e.as,h=(0,o.default)(e,["bsPrefix","className","bg","text","border","body","children","as"]),_=(0,s.useBootstrapPrefix)(t,"card"),v=(0,c.useMemo)(function(){return{cardHeaderBsPrefix:_+"-header"}},[_]);return c.default.createElement(d.default.Provider,{value:v},c.default.createElement(p,(0,l.default)({ref:a},h,{className:(0,i.default)(n,_,r&&"bg-"+r,m&&"text-"+m,f&&"border-"+f)}),u?c.default.createElement(E,null,g):g))});h.displayName="Card",h.defaultProps={as:"div",body:!1},h.Img=u.default,h.Title=(0,m.default)("card-title",{Component:g}),h.Subtitle=(0,m.default)("card-subtitle",{Component:p}),h.Body=E,h.Link=(0,m.default)("card-link",{Component:"a"}),h.Text=(0,m.default)("card-text",{Component:"p"}),h.Header=(0,m.default)("card-header"),h.Footer=(0,m.default)("card-footer"),h.ImgOverlay=(0,m.default)("card-img-overlay");var _=h;a.default=_,e.exports=a.default},484:function(e,a,t){"use strict";var n=t(64);a.__esModule=!0,a.default=void 0;var r=n(t(65)),l=n(t(94)),o=n(t(93)),i=n(t(0)),c=t(95),s=i.default.forwardRef(function(e,a){var t=e.bsPrefix,n=e.className,s=e.variant,m=e.as,f=(0,l.default)(e,["bsPrefix","className","variant","as"]),d=(0,c.useBootstrapPrefix)(t,"card-img");return i.default.createElement(m,(0,r.default)({ref:a,className:(0,o.default)(s?d+"-"+s:d,n)},f))});s.displayName="CardImg",s.defaultProps={as:"img",variant:null};var m=s;a.default=m,e.exports=a.default},778:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t(67),l=t(0),o=t.n(l),i=t(31),c=t(419),s=t(410),m=t(405),f=t.n(m),d=t(398),u=t.n(d),g=t(381),p=t.n(g),E=t(66),h=t.n(E),_=t(390),v=t.n(_),b=t(383),I=t(32),w=t(4),O=t(7),N=t(8),y=t(12),x=t(13),L=t(14),R=t(6),S=t.n(R),D=t(2),C=function(e){function a(e){var t;return Object(O.a)(this,a),(t=Object(y.a)(this,Object(x.a)(a).call(this,e))).state={affiliate:"",pixelData:""},t.record_locator="",t.total_price="",t.curr="",t.TDURLParts="",t.trackBackUrl="",t.TDcommonURLParts="",t.affiliate="",t.progid="",t.comid="",t.iu="",t}return Object(L.a)(a,e),Object(N.a)(a,[{key:"componentWillMount",value:function(){var e=this,a="";if(this.props.confirmFlight){this.total_price=this.props.confirmFlight.total_paid,this.record_locator=this.props.confirmFlight.record_locator,this.curr=this.props.confirmFlight.curr,this.affiliate=this.props.confirmFlight.affiliate,this.props.match.params.lang,(a=this.affiliate.split(".").join("_").split("_")).length>=2&&(a[a.length-1],this.affiliate=a[0]);var t="",n="";sessionStorage.getItem("CJEVENT")?(t="cjevent",n=sessionStorage.getItem("CJEVENT")):sessionStorage.getItem("KAYAKCLICKID")?(t="kayakclickid",n=sessionStorage.getItem("KAYAKCLICKID")):sessionStorage.getItem("TRADEDOUBLER")&&(t="tduid",n=sessionStorage.getItem("TRADEDOUBLER")),(sessionStorage.getItem("affiliate")||""!==t)&&S.a.get(D.O+"id_order="+this.record_locator+t!==""?"&"+t+"="+n:"").catch(function(e){}).then(function(a){e.setState({pixelData:a.data.data})})}}},{key:"render",value:function(){return this.props.confirmFlight?o.a.createElement("div",{className:"aff-pixel"},""!==this.state.pixelData&&o.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.pixelData}})):o.a.createElement("div",null)}}]),a}(l.Component),P=t(99),T=t(100),k=t(101),A=t.n(k);!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("devel")&&P.a.pageview(window.location.pathname+window.location.search);a.default=Object(i.f)(function(e){var a=e.t,t=o.a.useState({}),l=Object(r.a)(t,2),i=l[0],m=l[1],d=o.a.useState(),g=Object(r.a)(d,2),E=g[0],_=g[1],O=o.a.useState(),N=Object(r.a)(O,2),y=N[0],x=N[1],L=o.a.useState(),R=Object(r.a)(L,2),S=R[0],D=R[1];return o.a.useEffect(function(){e.appActions.setConfirmationInfo(window.location.search)},[]),o.a.useEffect(function(){e.confirmationInfo.hasOwnProperty("status")&&e.confirmationInfo.hasOwnProperty("customer_email")&&1===parseInt(e.confirmationInfo.status)&&"none"!==e.confirmationInfo.customer_email?(m(e.confirmationInfo),_(e.confirmationInfo.flights[0].lang_data),x(e.confirmationInfo.flights[0].language),D(function(){return e.confirmationInfo.full_name.map(function(e){return e.replace(/\//g," ")})}),Object(w.n)(Object(n.a)({},e.confirmationInfo,{reactLang:e.lang.value,clientId:e.clientId})).then(function(e){e.sendEmail.error&&console.log(e.sendEmail.error)}).catch(function(e){return console.log(e)})):e.confirmationInfo&&(e.confirmationInfo.hasOwnProperty("status")&&1!==parseInt(e.confirmationInfo.status)||e.confirmationInfo.hasOwnProperty("error")&&"BOOKING_FAILED"!==e.confirmationInfo.error)?window.location.assign("/"+e.lang.value+"/myreservation/"):e.confirmationInfo&&e.confirmationInfo.hasOwnProperty("error")&&"BOOKING_FAILED"===e.confirmationInfo.error&&m(e.confirmationInfo);var a={curr:e.curr.cc?e.curr.cc:"",lang:e.lang.value?e.lang.value:"",affiliate:sessionStorage.getItem("affiliate")?sessionStorage.getItem("affiliate"):"sky-tours"};i.status&&1===i.status&&i.from&&i.record_locator&&(a={curr:e.curr.cc?e.curr.cc:"",lang:e.lang.value?e.lang.value:"",affiliate:sessionStorage.getItem("affiliate")?sessionStorage.getItem("affiliate"):i.affiliate?i.affiliate:"",from:i.from[0]?i.from[0]:"",to:i.to[0]?i.to[0]:"",record_locator:i.record_locator?i.record_locator:"",total_price:i.total_paid?i.total_paid.toString():"",seats:i.full_name.length?i.full_name.length:""}),Object(T.a)("TRADEDOUBLER")&&(a=Object(n.a)({},a,{TRADEDOUBLER:Object(T.a)("TRADEDOUBLER")}));var t={dataLayer:{dataL:a},dataLayerName:"dLayer_1"};window.location.hostname.includes("localhost")||window.location.hostname.includes("devel")||A.a.dataLayer(t)},[e.confirmationInfo]),o.a.createElement("div",{className:"section1"},o.a.createElement(c.a,Object.assign({},e,{page:"confirmation"})),o.a.createElement(s.a,e),i&&(!i.hasOwnProperty("status")||i.hasOwnProperty("status")&&1!==parseInt(i.status)?i.hasOwnProperty("error")&&"BOOKING_FAILED"===i.error?o.a.createElement("div",null,o.a.createElement("div",{className:"confirmation-back"},o.a.createElement(f.a,null,o.a.createElement("div",{className:"padding-tb50 clearfix"}),o.a.createElement("div",{className:"text-center clearfix"},o.a.createElement(b.a,{icon:I.J,className:"fa-4x margin-lr-auto text-white"})),o.a.createElement("div",{className:"text-white font28 padding-tb25"},a("ERROR")),o.a.createElement("div",{className:"text-red padding-tb25 font20 maxw600 margin-lr-auto padding-r20",dangerouslySetInnerHTML:{__html:a("MAX_CONN_ERROR")}}),o.a.createElement(p.a,{className:"text-center"},o.a.createElement(v.a,{onClick:function(){return window.location.assign("/")},className:"margin-lr-auto"},a("GOTO_HOME"))),o.a.createElement(h.a,{src:"/images/st_logo_white.svg",width:"70%",className:"padding-tb50"})))):o.a.createElement("div",null,o.a.createElement("div",{className:"confirmation-back"},o.a.createElement("div",{className:"padding-tb50 clearfix"}),o.a.createElement(f.a,null,o.a.createElement(h.a,{src:"/images/st_logo_white.svg",width:"70%",className:"padding-tb50"})))):o.a.createElement("div",null,o.a.createElement(C,e),o.a.createElement("div",{className:"confirmation-back padding-tb50"},o.a.createElement(f.a,{className:"text-left"},o.a.createElement(u.a,{className:"info-pages-shadow margin-b50 padding-lr15 padding-tb50"},o.a.createElement("div",{className:"width-100 "},o.a.createElement("h1",null,a("TITLE_ORDER")),o.a.createElement("p",null,o.a.createElement("b",null,i&&i.etickets_err)),o.a.createElement("p",null,a("BOOKING_SECTION")," "),o.a.createElement("p",null,o.a.createElement("b",null,a("BREADCRUMB_STEP_5")," ",a("NUMBER").toLowerCase(),":"," "),i&&i.order),o.a.createElement("p",null,o.a.createElement("b",null,a("PASSENGERS_DETAILS"),": "),S&&S.length>0?S.map(function(e,a){return a===S.length-1?e:e+", "}):i&&i.customer_name),o.a.createElement("p",null,o.a.createElement("b",null,a("TOTAL_BLOCK_PRICE"),": "),i&&"".concat(i.total_paid," ").concat(i.curr))),o.a.createElement("div",{className:"flight-info-open mt-3"},i&&i.flights.map(function(e,a){return o.a.createElement(o.a.Fragment,{key:a},o.a.createElement("div",{className:"section",key:a},o.a.createElement("p",null,o.a.createElement("u",null,e.dep_weekday,", ",e.dep_date),o.a.createElement("br",null),e.confirmation_number?o.a.createElement("span",{className:"highlight"},o.a.createElement("b",null,E.confirm_number,":")," ",e.confirmation_number):""),o.a.createElement("p",null,o.a.createElement("span",{className:"logo"},o.a.createElement(h.a,{src:"/images/airlogos/"+"".concat(e.airline_code?e.airline_code.toLowerCase():e.printable_flight_number.slice(0,2).toLowerCase())+".gif",onError:function(e){e.target.src="/images/airlogos/_noimg.gif"}})),o.a.createElement("span",null,e.airline,", ",E.flight_number," ",e.flight_number,o.a.createElement("br",null),E.class,": ",e.fare_class)),o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",null,o.a.createElement("p",null,e.dep_airport,"(",e.dep_airport_code,") - ",e.dep_location),o.a.createElement("p",null,o.a.createElement("b",null,"en"===y?"Departure Time":E.depart,":"," "),e.dep_time),o.a.createElement("p",null,o.a.createElement("b",null,E.mileage,":")," ",e.mileage)),o.a.createElement("div",{className:"icon"},o.a.createElement(b.a,{icon:I.E,className:"svg"})),o.a.createElement("div",null,o.a.createElement("p",null,e.arr_airport,"(",e.arr_airport_code,") - ",e.arr_location),o.a.createElement("p",null,o.a.createElement("b",null,"en"===y?"Arrival Time":E.arrive,":"," "),e.arr_time)))),o.a.createElement("br",null))}))))))))})}}]);