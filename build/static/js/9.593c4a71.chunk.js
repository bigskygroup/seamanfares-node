(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{369:function(e,a,t){"use strict";var n=t(4),r=t(5),l=t(7),c=t(9),o=t(10),s=t(0),i=t.n(s),m=t(325),p=t.n(m),u=t(317),d=t.n(u),g=t(312),E=t.n(g),h=t(78),f=t(27),N=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=Object(l.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(o)))).closeModal=function(e){t.props.appActions.setInfoMsg("none"),t.props.toHome&&"no_flight"===e&&t.props.appActions.setRouteInfo("home")},t}return Object(o.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this,a=this.props.t;return i.a.createElement("div",null,i.a.createElement(p.a,{show:"no_flight"===this.props.infoMsg,onHide:function(){return e.closeModal()}},i.a.createElement("div",null,i.a.createElement(E.a,{src:"/images/puzzle.jpg",alt:"not found",title:"flight not found",fluid:!0})),i.a.createElement(p.a.Body,{className:"bg-warning text-left"},i.a.createElement("div",{className:"padding-tb15",dangerouslySetInnerHTML:{__html:a("BOOKING_EXPIRIES_TEXT2")}})),i.a.createElement(p.a.Footer,null,i.a.createElement(d.a,{variant:"outline-primary",className:"margin-lr-auto",onClick:function(){return e.closeModal("no_flight")}},i.a.createElement("div",{className:"padding-lr15"},a("BUTTON_CLOSE"))))),i.a.createElement(p.a,{show:"no_results"===this.props.infoMsg,onHide:function(){return e.closeModal()}},i.a.createElement(p.a.Body,{className:"bg-warning"},i.a.createElement("div",{className:"padding-tb15 text-center"},i.a.createElement(h.a,{icon:f.h,className:"color-red fa-5x margin-b20"}),i.a.createElement("div",{className:"font-weight-bold"},a("ERROR_NOT_FOUND")))),i.a.createElement(p.a.Footer,null,i.a.createElement(d.a,{variant:"outline-primary",className:"margin-lr-auto",onClick:function(){return e.closeModal("no_results")}},i.a.createElement("div",{className:"padding-lr15"},a("BUTTON_CLOSE"))))))}}]),a}(s.Component);a.a=N},387:function(e,a,t){"use strict";t.d(a,"c",function(){return n}),t.d(a,"b",function(){return r}),t.d(a,"a",function(){return l});t(31);function n(e,a,t){return--t,e.slice(t*a,(t+1)*a)}function r(e){for(var a=[],t=0;t<parseInt(e);t++)a[t]=t;return a}function l(e,a){for(var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[],r=0;r<a;r++)n[r]=t?e-r:e+r;return n}},755:function(e,a,t){"use strict";t.r(a);var n=t(4),r=t(5),l=t(7),c=t(9),o=t(10),s=t(0),i=t.n(s),m=t(322),p=t(337),u=t(13),d=t.n(u),g=t(40),E=t.n(g),h=t(21),f=t.n(h),N=t(312),A=t.n(N),_=t(78),b=t(27),I=function(e){function a(){return Object(n.a)(this,a),Object(l.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(o.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this,a=this.props.t,t=this.props.flight,n=this.props.num;return i.a.createElement(f.a,{xs:12,className:"margin-b20 fade-it-in-1 flight-info-open"},i.a.createElement(E.a,null,t.dep_airport.map(function(r,l){return i.a.createElement(f.a,{xs:12,key:l},i.a.createElement(E.a,null,t.stop_duration[l]&&parseInt(t.stop_duration[l])>0&&i.a.createElement(f.a,{xs:12,className:""},i.a.createElement(f.a,{xs:12},i.a.createElement(f.a,{xs:12,sm:9,className:"layover"},i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:12,className:"text-left padding-lr15"},t.arr_airport[l-1]&&t.dep_airport[l]!==t.arr_airport[l-1]?i.a.createElement("span",null,i.a.createElement(_.a,{icon:b.h,className:"font18 color-red"}),i.a.createElement("span",{className:"font-weight-bold margin-5"},a("CHANGE_OF_AIRPORT"),":")):i.a.createElement("b",null,i.a.createElement("span",{className:"margin-r5"},a("AIRPORT_STOP"),":")),t.arr_airport[l-1]&&t.dep_airport[l]!==t.arr_airport[l-1]?i.a.createElement("b",null,i.a.createElement("span",null,i.a.createElement("span",null,t.arr_airport[l-1])," ",i.a.createElement("span",null,i.a.createElement(_.a,{icon:b.b}))," ",i.a.createElement("span",null,t.dep_airport[l]),i.a.createElement("div",{className:"text-danger font12 maxw400 margin-b10 font-weight-normal margin-t4"},a("DIFF_ARR_DEP_AIRPORT")))):i.a.createElement("b",null,i.a.createElement("span",null,t.dep_airport[l]))),i.a.createElement(f.a,{xs:12,className:"text-left text-gray"},i.a.createElement(_.a,{icon:b.g})," "+t.stop_duration[l].slice(0,2)+a("DURATION_H")+" "+t.stop_duration[l].slice(2,4)+a("DURATION_M")))))),i.a.createElement(f.a,{xs:12,sm:3,md:3,xl:{offset:1,span:2},style:{height:0}},i.a.createElement(E.a,{className:"xs-relative"},i.a.createElement(f.a,{xs:!0,sm:12,className:"airline"},e.props.airlines.hasOwnProperty(t.airline_code[l])&&e.props.airlines[t.airline_code[l]],i.a.createElement("br",null),i.a.createElement(_.a,{icon:b.t}),i.a.createElement("span",null,t.airline_code[l],"-",t.flight_num[l])),i.a.createElement(f.a,{sm:12,className:"logos"},i.a.createElement(A.a,{src:"/images/airlogos/"+t.airline_code[l].toLowerCase()+".gif",onError:function(e){e.target.src="/images/airlogos/_noimg.gif"},className:"float-left margin-b10 margin-lr-2"})))),i.a.createElement(f.a,{xs:12,sm:9,xl:{pull:1,span:8},className:"section"},i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:6,className:"margin-b5"},i.a.createElement("span",null,d()(t.dep_flight_date[l],"DMMM").format("MMM D"),","," ",t.dep_flight_time[l].slice(0,2)+":"+t.dep_flight_time[l].slice(2,4))),i.a.createElement(f.a,{xs:6,className:"text-right"},i.a.createElement("span",{className:""},t.arr_flight_time[l].slice(0,2)+":"+t.arr_flight_time[l].slice(2,4)," ")),i.a.createElement(f.a,{xs:3,className:"padding-r0 font-weight-bold"},i.a.createElement("span",{className:t.arr_airport[l-1]&&t.dep_airport[l]!==t.arr_airport[l-1]?"text-danger":""},t.dep_airport[l])),i.a.createElement(f.a,{xs:6,className:"text-center font12 padding-lr8 text-light-gray"},i.a.createElement(_.a,{icon:b.q,className:"font20 padding-lr2 text-blue move-plane"})),i.a.createElement(f.a,{xs:3,className:"text-right padding-lr0 font-weight-bold"},i.a.createElement("span",{className:t.dep_airport[l+1]&&t.arr_airport[l]!==t.dep_airport[l+1]?"text-danger margin-r10":"margin-r10"},t.arr_airport[l])),i.a.createElement(f.a,{xs:6,className:"font12"},t.dep_town[l]),i.a.createElement(f.a,{xs:6,className:"font12 text-right"},t.arr_town[l]),i.a.createElement(f.a,{xs:12},i.a.createElement("div",{className:"text-light-gray margin-t10"},i.a.createElement("span",{className:"margin-r10"},i.a.createElement(_.a,{icon:b.g})),t.elapsed_flight_time[l].slice(0,2)+a("DURATION_H")+" "+t.elapsed_flight_time[l].slice(2,4)+a("DURATION_M"))),e.props.selectedFlight.baggages_info[n]&&i.a.createElement(f.a,{xs:12,className:"padding0"},i.a.createElement(E.a,{className:"padding-lr10"},i.a.createElement(f.a,{xs:1,className:"text-light-gray"},i.a.createElement(_.a,{icon:b.x}))))))))})))}}]),a}(s.Component),v=t(332),y=t.n(v),O=t(325),S=t.n(O),R=t(417),T=t(387),x=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(c.a)(a).call(this,e))).manageLuggage=function(e,a){e.index=a,t.props.bagInfo.index!==a?t.props.appActions.setBagInfo(e):t.props.appActions.setBagInfo({})},t.state={opt_services:{},msg:""},t}return Object(o.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e={baggage:[]};if(this.props.selectedFlight.flight_info.hasOwnProperty("optional_services")){var a=this.props.selectedFlight.flight_info.optional_services;if("travelport"===this.props.selectedFlight.service||"travelfusion"===this.props.selectedFlight.service)for(var t=0;t<a.baggage.prices[a.baggage.type].length;t++)e.baggage.push({text:a.baggage.prices[a.baggage.type][t].Text,price:a.baggage.prices[a.baggage.type][t].Amount,currency:a.baggage.prices[a.baggage.type][t].Currency,type:"",quantity:parseInt(a.baggage.prices[a.baggage.type][t].Text.charAt(0)),weight:""});else if("tripstack"===this.props.selectedFlight.service)for(var n=0;n<a.baggage[0].length;n++)e.baggage.push({text:a.baggage[0][n].quantity+" "+a.baggage[0][n].type+" bags - "+a.baggage[0][n].quantity*a.baggage[0][n].weight+"kg total",price:a.baggage[0][n].price,currency:this.props.selectedFlight.currency_ori,type:a.baggage[0][n].type,quantity:a.baggage[0][n].quantity,weight:a.baggage[0][n].weight});e.baggage.length>0&&this.setState({opt_services:e})}0===e.baggage.length&&this.setState({msg:"We are not able to provide this service during the booking process. Thank you."})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.selectedFlight&&this.props.selectedFlight.flight_info[0].hasOwnProperty("carryon")&&i.a.createElement("div",null,this.props.selectedFlight.flight_info[0].carryon.map(function(e,a){return i.a.createElement("div",{key:a},i.a.createElement(y.a,{className:"border-primary cursor-pointer bg-light padding-tb15 padding-lr15"},i.a.createElement("div",{className:"width-100 margin-b20"},i.a.createElement(_.a,{icon:R.a,className:"float-left margin-r10 font22 margin-t10 text-blue"}),i.a.createElement(_.a,{icon:b.x,className:"float-left margin-r10 fa-2x text-light-gray"})),i.a.createElement("div",{className:"font18"},"Carry on: ",e),i.a.createElement("div",{className:"text-blue font20 font-weight-bold"},"included")))})),this.props.selectedFlight&&this.props.selectedFlight.flight_info.hasOwnProperty("optional_services")&&i.a.createElement(E.a,null,this.state.opt_services.hasOwnProperty("baggage")&&this.state.opt_services.baggage.map(function(a,t){return i.a.createElement(f.a,{xs:12,key:t,className:"margin-b10"},i.a.createElement(y.a,{className:0===a.price||e.props.bagInfo.index===t?"border-primary cursor-pointer bg-light padding-tb15 padding-lr15":"cursor-pointer bg-light padding-tb15 padding-lr15",onClick:function(){return e.manageLuggage(a,t)}},i.a.createElement("div",{className:"width-100 margin-b20"},0!==a.price&&e.props.bagInfo.index!==t&&i.a.createElement(_.a,{icon:R.d,className:"float-left margin-r10 font22 margin-t10 text-blue"}),(0===a.price||e.props.bagInfo.index===t)&&i.a.createElement(_.a,{icon:R.a,className:"float-left margin-r10 font22 margin-t10 text-blue"}),Object(T.b)(a.quantity).map(function(e,a){return i.a.createElement(_.a,{key:a,icon:b.x,className:"float-left margin-r10 fa-2x text-light-gray"})})),i.a.createElement("div",{className:"font18"},a.text),0===a.price?i.a.createElement("div",{className:"text-blue font20 font-weight-bold"},"included"):i.a.createElement("div",{className:"text-blue font20 font-weight-bold"},a.price," ",a.currency)))})),this.state.msg.length>0&&i.a.createElement("div",{className:"text-center"},this.state.msg))}}]),a}(s.Component),F=t(6),C=function(e){function a(){return Object(n.a)(this,a),Object(l.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(o.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this,a=this.props.t,t=(parseFloat(this.props.selectedFlight.TOTAL_PRICE)-parseFloat(this.props.selectedFlight.TTL_FAR))/this.props.numPeople;return i.a.createElement("div",null,F.m.map(function(n,r){return parseInt(e.props.selectedFlight.search[n.which])>0&&i.a.createElement("div",{key:r,className:"padding-tb10 text-light-gray font12"},i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:12,className:"text-gray font-weight-bold font14"},a(n.label1).toLowerCase())),i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:7},a("BASEFARE_BLOCK_PRICE")),i.a.createElement(f.a,{xs:5},parseFloat(e.props.selectedFlight[n.which].BAS_FAR).toLocaleString(e.props.lang.locale.replace("_","-"),{maximumFractionDigits:parseInt(e.props.curr.decimal)})," ",e.props.selectedFlight.currency)),i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:7},a("TAXES_BLOCK_PRICE")),i.a.createElement(f.a,{xs:5},(parseFloat(e.props.selectedFlight[n.which].TAX)+t).toLocaleString(e.props.lang.locale.replace("_","-"),{maximumFractionDigits:parseInt(e.props.curr.decimal)})," ",e.props.selectedFlight.currency)),i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:7},a("TOTAL_BLOCK_PRICE")),i.a.createElement(f.a,{xs:5},(parseFloat(e.props.selectedFlight[n.which].TTL_FAR)+t).toLocaleString(e.props.lang.locale.replace("_","-"),{maximumFractionDigits:parseInt(e.props.curr.decimal)})," ",e.props.selectedFlight.currency)),i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:7},a("NUMBER_BLOCK_PRICE")),i.a.createElement(f.a,{xs:5},e.props.selectedFlight.search[n.which])))}))}}]),a}(s.Component),L=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(c.a)(a).call(this,e))).toggleDetails=function(e,a){e.currentTarget.nextElementSibling.classList.toggle("show");var n=t.state.addInfo;n.hasOwnProperty(a.toString())?delete n[a]:n[a]=!0,t.setState({addInfo:n})},t.state={flightPriceDetails:!1},t}return Object(o.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.modal&&this.setState({flightPriceDetails:this.props.modal})}},{key:"render",value:function(){var e=this.props.t,a=parseInt(this.props.selectedFlight.search.adult)+parseInt(this.props.selectedFlight.search.child)+parseInt(this.props.selectedFlight.search.infant)+parseInt(this.props.selectedFlight.search.senior)+parseInt(this.props.selectedFlight.search.youth);return i.a.createElement(y.a,{className:this.props.modal?"font14 no-border":"font14 no-border background-blue",id:"v-flight"},!this.props.modal&&i.a.createElement(E.a,{xs:12},i.a.createElement("h4",null,e("SUMMARY_OF_CHARGES"))),this.props.selectedFlight.to_city.map(function(e,a){return i.a.createElement("div",{key:a},i.a.createElement("div",{className:"",id:""},i.a.createElement("div",{className:"flight-sum-bar"},i.a.createElement("div",{className:"main-body"}))),i.a.createElement("div",{className:"clearfix margin-b10"}))}),i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:12,className:"padding-l0"},e("TOTAL_AIRFARE")),i.a.createElement(f.a,{xs:12,className:"font22 cursor-pointer padding-l0"},i.a.createElement("span",{className:"margin-r10"},i.a.createElement("strong",null,parseFloat(this.props.selectedFlight.TOTAL_PRICE).toLocaleString(this.props.lang.locale.replace("_","-"),{maximumFractionDigits:parseInt(this.props.curr.decimal)}))," ",this.props.selectedFlight.currency))),i.a.createElement("div",{className:"text-light-gray"},a," ",e("ALL_TRAVELERS")),i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:{offset:1,span:11}},i.a.createElement(C,Object.assign({},this.props,{numPeople:a})))),i.a.createElement("div",{className:"total-price-sum"},i.a.createElement("div",{className:""},i.a.createElement("div",null,e("TOTAL_TO_PAY")),i.a.createElement("div",{className:"font28"},i.a.createElement("strong",null,i.a.createElement("span",{id:"total_price3"},this.props.bookForm.services?(parseFloat(this.props.selectedFlight.TOTAL_PRICE)+Object.values(this.props.bookForm.services).reduce(function(e,a){return parseFloat(e)+parseFloat(a)})).toLocaleString(this.props.lang.locale.replace("_","-"),{maximumFractionDigits:parseInt(this.props.curr.decimal)}):parseFloat(this.props.selectedFlight.TOTAL_PRICE).toLocaleString(this.props.lang.locale.replace("_","-"),{maximumFractionDigits:parseInt(this.props.curr.decimal)})," ")),i.a.createElement("span",null,this.props.selectedFlight.currency)))))}}]),a}(s.Component),M=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(c.a)(a).call(this,e))).setAddInfo=function(e){var a=t.state.addInfo;a.hasOwnProperty(e.toString())?delete a[e.toString()]:a[e.toString()]=!0,t.setState({addInfo:a})},t.renderMoreInfo=function(e){var a=t.props.t;return i.a.createElement("div",{className:"flight-info-detail exception"},i.a.createElement(_.a,{icon:e?R.b:R.c,className:"cursor-pointer font16"})," ",i.a.createElement("span",{className:"margin-r5"},a("DETAILS").toLowerCase()))},t.renderFlight=function(e){var a=t.props.t,n=[];return i.a.createElement(E.a,{className:"search-container margin-b10"},i.a.createElement(f.a,{xs:4,sm:4,md:4,lg:4,className:"exception"},i.a.createElement(E.a,{className:"margin-t30"},i.a.createElement(f.a,{xs:11,className:"top-logos padding-r-logos"},t.props.selectedFlight.airline_code[e].map(function(e,a){return i.a.createElement("div",{key:a},!n.includes(e)&&n.push(e)&&i.a.createElement(A.a,{key:a,src:"string"===typeof e?"/images/airlogos/"+e.toLowerCase()+".gif":"/images/airlogos/_noimg.gif",onError:function(e){e.target.src="/images/airlogos/_noimg.gif"},className:"float-left margin-b5 margin-lr-2"}))})))),i.a.createElement(f.a,{xs:8,sm:8,className:"padding-r0 padding-l-logos"},i.a.createElement(f.a,{xs:12,className:"text-light-gray padding-lr0 margin-b5 font14"},i.a.createElement(_.a,{icon:b.e,className:"margin-r10"}),d()(t.props.selectedFlight.dep_flight_date[e],"DDMMM").format("LL")),i.a.createElement(E.a,{className:"padding-lr10"},i.a.createElement(f.a,{xs:5,md:4,className:"padding0"},i.a.createElement("div",null,i.a.createElement("span",{className:"margin-r10 font16"},i.a.createElement("b",null,t.props.selectedFlight.flight_info[e].dep_airport[0])),i.a.createElement("span",{className:"font14  max-content"},t.props.selectedFlight.dep_flight_time[e][0].slice(0,2)+":"+t.props.selectedFlight.dep_flight_time[e][0].slice(2,4)))),i.a.createElement(f.a,{xs:2,className:"font16 cursor-pointer padding0 exception",onClick:function(){return t.setAddInfo(e)}},i.a.createElement(_.a,{icon:b.q,className:"svg"})),i.a.createElement(f.a,{xs:5,className:"padding0"},i.a.createElement("div",null,i.a.createElement("span",{className:"font16 margin-r10 "},i.a.createElement("b",null,t.props.selectedFlight.flight_info[e].arr_airport[t.props.selectedFlight.arr_flight_time[e].length-1])),i.a.createElement("span",{className:"font14  max-content"},t.props.selectedFlight.arr_flight_time[e][t.props.selectedFlight.arr_flight_time[e].length-1].slice(0,2)+":"+t.props.selectedFlight.arr_flight_time[e][t.props.selectedFlight.arr_flight_time[e].length-1].slice(2,4)),i.a.createElement("span",null,d()(t.props.selectedFlight.arr_flight_date[e][t.props.selectedFlight.arr_flight_date[e].length-1],"DMMM").diff(d()(t.props.selectedFlight.arr_flight_date[e][0],"DMMM"),"days")>0&&i.a.createElement("span",{className:"next-day",onClick:function(e){return e.currentTarget.querySelector("div").classList.toggle("show")},onMouseOver:function(e){return e.currentTarget.querySelector("div").classList.toggle("show")},onMouseOut:function(e){e.currentTarget.querySelector("div").classList.length&&e.currentTarget.querySelector("div").classList.toggle("show")}},i.a.createElement("div",null,i.a.createElement("span",null,"Arriving"," ",d()(t.props.selectedFlight.arr_flight_date[e][t.props.selectedFlight.arr_flight_date[e].length-1],"DMMM").diff(d()(t.props.selectedFlight.flight_info[e].dep_flight_date[0],"DMMM"),"days")," ","day(s) later.")),"+",d()(t.props.selectedFlight.arr_flight_date[e][t.props.selectedFlight.arr_flight_date[e].length-1],"DMMM").diff(d()(t.props.selectedFlight.dep_flight_date[e][0],"DMMM"),"days")))))),i.a.createElement(E.a,{className:"margin-t10 font14"},i.a.createElement(f.a,{xs:5,md:4,className:"text-light-gray"},i.a.createElement(_.a,{icon:b.k})," ",1!==t.props.selectedFlight.arr_airport[e].length?"".concat(t.props.selectedFlight.arr_airport[e].length-1," stop(s)"):a("NONSTOP").toLowerCase()),i.a.createElement(f.a,{xs:2}),i.a.createElement(f.a,{xs:5,className:"text-light-gray padding0"},i.a.createElement(_.a,{icon:b.g})," ",Math.floor(t.props.selectedFlight.total_mins[e]/60),a("DURATION_H")+" ",t.props.selectedFlight.total_mins[e]%60,a("DURATION_M")))),i.a.createElement(f.a,{xs:{span:12},sm:{offset:4,span:8}},i.a.createElement(f.a,{md:{offset:6,span:5},sm:{offset:7,span:5},className:"cursor-pointer d-block z-index-100",onClick:function(){return t.setAddInfo(e)}},t.renderMoreInfo(t.state.addInfo[e.toString()]))),t.state.addInfo[e.toString()]&&i.a.createElement(I,Object.assign({},t.props,{flight:t.props.selectedFlight.flight_info[e],num:e})))},t.handleAddLuggage=function(){},t.handleSelect=function(e){e.urlResults=window.location.href,t.props.appActions.setSelectedFlight(e),t.props.appActions.setRouteInfo("book")},t.state={addInfo:{},modalBag:!1},t}return Object(o.a)(a,e),Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.page!==e.page&&this.setState({addInfo:{}})}},{key:"componentWillMount",value:function(){this.props.selectedFlight.cache_key+this.props.selectedFlight.book!==this.props.flightKey&&(this.props.appActions.setFlightKey(this.props.selectedFlight.cache_key+this.props.selectedFlight.book),this.props.appActions.setBagInfo({}))}},{key:"render",value:function(){var e=this,a=this.props.t;return i.a.createElement(f.a,{xs:12,className:"padding-tb10 text-left"},this.props.selectedFlight&&this.props.selectedFlight.TOTAL_PRICE&&i.a.createElement("div",null,i.a.createElement(S.a,{show:this.state.modalBag,onHide:function(){return e.setState({modalBag:!1})}},i.a.createElement(S.a.Header,{closeButton:!0},i.a.createElement(S.a.Title,null,"Add Luggage")),i.a.createElement(S.a.Body,null,i.a.createElement(x,this.props))),i.a.createElement(y.a,null,i.a.createElement(y.a.Body,{className:"padding-lr10 padding-tb15"},i.a.createElement(E.a,{className:"parent"},i.a.createElement(f.a,{xs:12},this.props.selectedFlight.to_city.map(function(a,t){return i.a.createElement("div",{key:t},e.renderFlight(t))}))),i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:12,className:"float-right margin-t10 text-right"},i.a.createElement("div",{className:"text-light-gray text-lowercase font-12 margin-r20"},i.a.createElement("div",{className:"d-block d-lg-none float-right",onClick:function(){return e.props.setModalPrice(!0)}},i.a.createElement("span",{className:"margin-r10"}),i.a.createElement(_.a,{icon:b.l,className:"fa-2x cursor-pointer"})),i.a.createElement("div",{className:"float-right margin-t10"},a("TOTAL_AIRFARE"))),i.a.createElement("div",{className:"clearfix"}),i.a.createElement("div",{className:"float-right text-right font28 margin-r20"},i.a.createElement("strong",null,parseFloat(this.props.selectedFlight.TOTAL_PRICE).toLocaleString(this.props.lang.locale.replace("_","-")))," ",this.props.selectedFlight.currency),i.a.createElement("div",{className:"clearfix"})))))))}}]),a}(s.Component),D=t(26),P=t(79),k=t.n(P),B=t(31),U=t.n(B),G=t(331),w=t.n(G),j=t(317),Y=t.n(j),H=t(516),V=t.n(H),K=t(328);function z(e){return i.a.createElement("ul",Object.assign({className:"tabs"},e),e.children)}function W(e){return i.a.createElement("li",e,e.children)}function Z(e){return""===e||"--"===e||null===e||void 0===e||"0"===e||/^\s*$/.test(e)||/^-/.test(e)?"empty!":""}function q(e,a,t,n){if(3===t.filter(function(t){if(e[a][t].value)return t}).length){var r="";return t.forEach(function(t){r+=e[a][t].value+"-"}),r=r.slice(0,r.length-1),d()(r,["DD-MM-YYYY","D-M-YYYY"],!0).isValid()?(t.forEach(function(e){return n(a,e,void 0,"",!0)}),!1):(t.forEach(function(e){return n(a,e,void 0,"Invalid date",!0)}),!0)}}function J(e){return/^\d+$/.test(e)?"":"Number is invalid!"}function Q(e){return/^[\w-.+]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9]{2,4}$/.test(e)?"":"Email is invalid!"}var X=t(60),$={Afghanistan:"AFGHANISTAN","Aland Islands":"ALAND_ISLANDS",Albania:"ALBANIA",Algeria:"ALGERIA","American Samoa":"AMERICAN_SAMOA",Andorra:"ANDORRA",Angola:"ANGOLA",Anguilla:"ANGUILLA",Antarctica:"ANTARCTICA","Antigua And Barbuda":"ANTIGUA_AND_BARBUDA",Argentina:"ARGENTINA",Armenia:"ARMENIA",Aruba:"ARUBA",Australia:"AUSTRALIA",Austria:"AUSTRIA",Azerbaijan:"AZERBAIJAN",Bahamas:"BAHAMAS",Bahrain:"BAHRAIN",Bangladesh:"BANGLADESH",Barbados:"BARBADOS",Belarus:"BELARUS",Belgium:"BELGIUM",Belize:"BELIZE",Benin:"BENIN",Bermuda:"BERMUDA",Bhutan:"BHUTAN",Bolivia:"BOLIVIA","Bosnia And Herzegovina":"BOSNIA_HERZEGOVINA",Botswana:"BOTSWANA","Bouvet Island":"BOUVET_ISLAND",Brazil:"BRAZIL","British Indian Ocean Territory":"BRITISH_INDIAN_OCEAN_TERRITORY","Brunei Darussalam":"BRUNEI",Bulgaria:"BULGARIA","Burkina Faso":"BURKINA_FASO",Burundi:"BURUNDI",Cambodia:"CAMBODIA",Cameroon:"CAMEROON",Canada:"CANADA","Cape Verde":"CAPE_VERDE","Cayman Islands":"CAYMAN_ISLANDS","Central African Republic":"CENTRAL_AFRICAN_REPUBLIC",Chad:"CHAD",Chile:"CHILE","China (Hong Kong)":"CHINA_HONG_KONG","China (prc)":"CHINA_PRC","Christmas Island":"CHRISTMAS_ISLAND","Cocos (keeling) Islands":"COCOS_KEELING_ISLANDS",Colombia:"COLOMBIA",Comoros:"COMOROS",Congo:"CONGO","Congo Democratic Republic Of":"CONGO_DEMOCRATIC_REP","Cook Islands":"COOK_ISLANDS","Costa Rica":"COSTA_RICA","Cote D'ivoire":"IVORY_COAST",Croatia:"CROATIA",Cuba:"CUBA",Cyprus:"CYPRUS","Czech Republic":"CZECH_REPUBLIC",Denmark:"DENMARK",Djibouti:"DJIBOUTI",Dominica:"DOMINICA","Dominican Republic":"DOMINICAN_REPUBLIC",Ecuador:"ECUADOR",Egypt:"EGYPT","El Salvador":"EL_SALVADOR","Equatorial Guinea":"EQUATORIAL_GUINEA",Eritrea:"ERITREA",Estonia:"ESTONIA",Ethiopia:"ETHIOPIA","Falkland Islands (malvinas)":"FALKLAND_ISLANDS_MALVINAS","Faroe Islands":"FAROE_ISLANDS",Fiji:"FIJI",Finland:"FINLAND",France:"FRANCE","France, Metropolitan":"FRANCE_METROPOLITAN","French Guyana":"FRENCH_GUYANA","French Polynesia":"FRENCH_POLYNESIA","French Southern Territories":"FRENCH_SOUTHERN_TERRITORIES",Gabon:"GABON",Gambia:"GAMBIA",Georgia:"GEORGIA",Germany:"GERMANY",Ghana:"GHANA",Gibraltar:"GIBRALTAR",Greece:"GREECE",Greenland:"GREENLAND",Grenada:"GRENADA",Guadeloupe:"GUADELOUPE",Guam:"GUAM",Guatemala:"GUATEMALA",Guernsey:"GUERNSEY",Guinea:"GUINEA","Guinea-Bissau":"GUINEA_BISSAU",Guyana:"GUYANA",Haiti:"HAITI","Heard And Mcdonald Islands":"HEARD_AND_MCDONALD_ISLANDS",Honduras:"HONDURAS",Hungary:"HUNGARY",Iceland:"ICELAND",India:"INDIA",Indonesia:"INDONESIA","Iran (islamic Republic Of)":"IRAN",Iraq:"IRAQ",Ireland:"IRELAND","Isle of Man":"ISLE_OF_MAN",Israel:"ISRAEL",Italy:"ITALY",Jamaica:"JAMAICA",Japan:"JAPAN",Jersey:"JERSEY",Jordan:"JORDAN",Kazakhstan:"KAZAKHSTAN",Kenya:"KENYA",Kiribati:"KIRIBATI","Korea, Democratic Ppl's Republic":"KOREA_NORTH","Korea, Republic Of":"KOREA_SOUTH",Kosovo:"KOSOVO",Kuwait:"KUWAIT",Kyrgyzstan:"KYRGYZSTAN","Lao Ppl's Democratic Republic":"LAOS",Latvia:"LATVIA",Lebanon:"LEBANON",Lesotho:"LESOTHO",Liberia:"LIBERIA","Libyan Arab Jamahiriya":"LIBYA",Liechtenstein:"LIECHTENSTEIN",Lithuania:"LITHUANIA",Luxembourg:"LUXEMBOURG",Macao:"MACAO","Macedonia The Republic":"MACEDONIA",Madagascar:"MADAGASCAR",Malawi:"MALAWI",Malaysia:"MALAYSIA",Maldives:"MALDIVES",Mali:"MALI",Malta:"MALTA","Marshall Islands":"MARSHALL_ISLANDS",Martinique:"MARTINIQUE",Mauritania:"MAURITANIA",Mauritius:"MAURITIUS",Mayotte:"MAYOTTE",Mexico:"MEXICO",Micronesia:"MICRONESIA","Moldova, Republic Of":"MOLDOVA",Monaco:"MONACO",Mongolia:"MONGOLIA",Montenegro:"MONTENEGRO",Montserrat:"MONTSERRAT",Morocco:"MOROCCO",Mozambique:"MOZAMBIQUE",Myanmar:"MYANMAR",Namibia:"NAMIBIA",Nauru:"NAURU",Nepal:"NEPAL",Netherlands:"NETHERLANDS","Netherlands Antilles":"NETHERLANDS_ANTILLES","New Caledonia":"NEW_CALEDONIA","New Zealand":"NEW_ZEALAND",Nicaragua:"NICARAGUA",Niger:"NIGER",Nigeria:"NIGERIA",Niue:"NIUE","Norfolk Island":"NORFOLK_ISLAND","Northern Mariana Islands":"NORTHERN_MARIANA_ISLANDS",Norway:"NORWAY",Oman:"OMAN",Pakistan:"PAKISTAN",Palau:"PALAU","Palestinian Territory, Occupied":"PALESTINIAN_TERRITORY_OCCUPIED",Panama:"PANAMA","Papua New Guinea":"PAPUA_NEW_GUINEA",Paraguay:"PARAGUAY",Peru:"PERU",Philippines:"PHILIPPINES",Pitcairn:"PITCAIRN",Poland:"POLAND",Portugal:"PORTUGAL","Puerto Rico":"PUERTO_RICO",Qatar:"QATAR",Reunion:"REUNION",Romania:"ROMANIA","Russian Federation":"RUSSIAN_FEDERATION",Rwanda:"RWANDA","S. Georgia And S. Sandwich Islands":"S_GEORGIA_AND_S_SANDWICH_ISLANDS","Saint Barthelemy":"SAINT_BARTHELEMY","Saint Kitts And Nevis":"ST_KITTS_AND_NEVIS","Saint Lucia":"ST_LUCIA","Saint Martin (French part)":"SAINT_MARTIN_FRENCH_PART",Samoa:"SAMOA","San Marino":"SAN_MARINO","Sao Tome And Principe":"SAO_TOME_AND_PRINCIPE","Saudi Arabia":"SAUDI_ARABIA",Senegal:"SENEGAL",Serbia:"SERBIA",Seychelles:"SEYCHELLES","Sierra Leone":"SIERRA_LEONE",Singapore:"SINGAPORE",Slovakia:"SLOVAKIA",Slovenia:"SLOVENIA","Solomon Islands":"SOLOMON_ISLANDS",Somalia:"SOMALIA","South Africa":"SOUTH_AFRICA",Spain:"SPAIN","Sri Lanka":"SRI_LANKA","St. Helena":"ST_HELENA","St. Pierre And Miquelon":"ST_PIERRE_AND_MIQUELON","St. Vincent And The Grenadines":"ST_VINCENT_AND_THE_GRENADINES",Sudan:"SUDAN",Suriname:"SURINAME","Svalbard And Jan Mayen Islands":"SVALBARD_AND_JAN_MAYEN_ISLANDS",Swaziland:"SWAZILAND",Sweden:"SWEDEN",Switzerland:"SWITZERLAND","Syrian Arab Republic":"SYRIA","Taiwan, Republic Of China":"TAIWAN",Tajikistan:"TAJIKISTAN","Tanzania, United Republic Of":"TANZANIA",Thailand:"THAILAND","Timor-Leste":"TIMOR_LESTE",Togo:"TOGO",Tokelau:"TOKELAU",Tonga:"TONGA","Trinidad And Tobago":"TRINIDAD_AND_TOBAGO",Tunisia:"TUNISIA",Turkey:"TURKEY",Turkmenistan:"TURKMENISTAN","Turks And Caicos Islands":"TURKS_AND_CAICOS_ISLANDS",Tuvalu:"TUVALU",Uganda:"UGANDA",Ukraine:"UKRAINE","United Arab Emirates":"UNITED_ARAB_EMIRATES","United Kingdom":"UNITED_KINGDOM","United States":"UNITED_STATES",Uruguay:"URUGUAY","Us Minor Outlying Islands":"US_MINOR_OUTLYING_ISLANDS",Uzbekistan:"UZBEKISTAN",Vanuatu:"VANUATU","Vatican City State":"VATICAN_CITY",Venezuela:"VENEZUELA","Viet Nam":"VIETNAM","Virgin Islands (british)":"VIRGIN_ISLANDS_BRITISH","Virgin Islands (us)":"VIRGIN_ISLANDS_US","Wallis And Futuna Islands":"WALLIS_AND_FUTUNA_ISLANDS","Western Sahara":"WESTERN_SAHARA",Yemen:"YEMEN",Zambia:"ZAMBIA",Zimbabwe:"ZIMBABWE"};var ee=function(e){var a=e.t,t=e.inputCaptureProps,n=e.defaultValueProps,r=e.getErrorProps,l=e.setPersonalInputProps,c=e.validateFieldsProps,o=e.countryPhoneDataProps,s=e.bookForm,m=i.a.useState(!0),p=Object(X.a)(m,2),u=p[0],d=p[1],g=i.a.useState(""),h=Object(X.a)(g,2),N=h[0],A=h[1],_=i.a.useState(!1),b=Object(X.a)(_,2),I=b[0],v=b[1],y=function(e,a){return e=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e.replace("correct","").replace("has-error",""):a?(e=e.replace("correct"," has-error")).includes("has-error")?e:e.concat(" has-error"):e.includes("correct")?e:e.concat(" correct")},O=function(e,a){l(a,null,"",!0),e.target.className=y(e.target.className,r(null,a),!0)},S=function(){if("Email is invalid!"!==s.email.err&&"Email is invalid!"!==s.repeatEmail.err&&I){var e=function(e,a){new RegExp("^".concat(s[e].value,"$"),"i").test(s[a].value)?(l(e,void 0,"",!0),A(function(e){return e.replace("has-error","").replace("correct","").concat(" correct ")})):(l(e,void 0,"Both emails must match",!0),A(function(e){return e.replace("has-error","").replace("correct","").concat(" has-error ")}))};e("email","repeatEmail"),e("repeatEmail","email")}};return i.a.createElement("div",{className:"passengers",style:{marginTop:0}},i.a.createElement("h2",{className:"text-left padding-tb15 Roboto"},a("PLEASE_CONTACT_DETAILS")),i.a.createElement(k.a,{className:"padding-lr0"},i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:12,md:5,lg:5,xl:4,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formEmail",className:"contact-fields"},i.a.createElement(w.a.Label,{className:r(null,"email")?"err-label":null},a("EMAIL"),"*"),i.a.createElement(w.a.Control,{type:"email",className:N,onFocus:function(e){return O(e,"email")},onChange:function(e){t("email",e.target.value)},onBlur:function(e){c(null,"email"),e.target.className=y(e.target.className,r(null,"email")),S()},defaultValue:n(null,"email")}))),i.a.createElement(f.a,{xs:12,md:5,lg:5,xl:4,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formEmailRepeat",className:"contact-fields"},i.a.createElement(w.a.Label,{className:r(null,"repeatEmail")?"err-label":null},a("EMAIL_REPEAT"),"*"),i.a.createElement(w.a.Control,{type:"email",className:N,onPaste:function(e){return e.preventDefault()},onFocus:function(e){O(e,"repeatEmail"),v(!0)},onChange:function(e){t("repeatEmail",e.target.value)},onBlur:function(e){c(null,"repeatEmail"),e.target.className=y(e.target.className,r(null,"email")),S()},defaultValue:n(null,"repeatEmail")})))),i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:12,md:5,lg:5,xl:4,className:"padding-lr5"},o&&i.a.createElement(w.a.Group,{controlId:"formPhonePrefix",className:"contact-fields"},i.a.createElement(w.a.Label,{className:r(null,"countryCode")?"err-label":null},a("AREA_CODE"),"*"),i.a.createElement(w.a.Control,{as:"select",onChange:function(e){l("countryCode",e.target.value),e.target.blur(),d(!0)},onBlur:function(e){l("countryCode",e.target.value),c(null,"countryCode"),e.target.className=y(e.target.className,r(null,"countryCode")),d(!0)},onFocus:function(e){O(e,"countryCode"),d(!1)},defaultValue:n(null,"countryCode")},i.a.createElement("option",null,"- -"),o.map(function(e,t){return i.a.createElement("option",{key:t,value:e.dial_code},u&&e.dial_code===s.countryCode.value?e.dial_code:"".concat($.hasOwnProperty(e.name)?a("countries:"+$[e.name]):e.name,": ").concat(e.dial_code))})))),i.a.createElement(f.a,{xs:12,md:5,lg:5,xl:4,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formPhoneNum",className:"contact-fields"},i.a.createElement(w.a.Label,{className:r(null,"phoneNumber")?"err-label":null},a("DAYTIME_PHONE_NO"),"*"),i.a.createElement(w.a.Control,{type:"text",onFocus:function(e){return O(e,"phoneNumber")},onBlur:function(e){l("phoneNumber",e.target.value),c(null,"phoneNumber"),e.target.className=y(e.target.className,r(null,"phoneNumber"))},defaultValue:n(null,"phoneNumber")}))))))};var ae=function(e){var a=e.t,t=i.a.useState(new Set(Object.keys(e.bookForm).map(function(a){if(/^f_/.test(a)&&e.bookForm[a].flyerProgram.value)return a}))),n=Object(X.a)(t,2),r=n[0],l=n[1],c=e.inputCaptureProps,o=e.defaultValueProps,s=e.getErrorProps,m=e.validateFieldsProps,p=e.validateDatesProps,u=e.countryPhoneDataProps,g=e.flyerProgramProps,h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;return e=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e.replace("correct","").replace("has-error",""):a?(e=e.replace("correct"," has-error")).includes("has-error")?e:e.concat(" has-error"):e.includes("correct")?e:e.concat(" correct")},N=function(e,a,t){e.target.className.includes("correct")||(c(a,t,e.target.value,"",!0),e.target.className=h(e.target.className,"",!0))},A=function(e,a){return a.filter(function(a){if(s(e,a))return a}).length?" err-label ":" correct-label "};return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"text-left svg font12 pl-4"},"*",a("ALL_FORM_FIELDS_ARE_REQUIRED")),F.m.map(function(t,n){return i.a.createElement("div",{key:n},e.numPeople[t.which]>0&&Object(T.b)(e.selectedFlight.search[t.which]).map(function(b){return i.a.createElement("div",{key:b,className:"passengers"},i.a.createElement("h2",{className:"margin-r10 padding-tb15 Roboto"},i.a.createElement(_.a,{icon:t.icon,className:"font20",style:{marginRight:".3em"}}),a(t.label).toUpperCase()),"adult"!==t.which?i.a.createElement("div",{className:"svg margin-top--10 margin-b10"},"senior"===t.which?a("AGE_SENIORS"):null,"child"===t.which?a("AGE_CHILDRENS"):null,"infant"===t.which?a("AGE_INFANTS"):null,"youth"===t.which?a("AGE_YOUTHS"):null):null,i.a.createElement(k.a,{className:"padding-lr0"},i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:12,md:3,lg:3,xl:2,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formGender"+n+b,id:"gender",className:"exception date-selection"},i.a.createElement(w.a.Label,{className:s("f_".concat(n,"_").concat(b),"selectGender")?"err-label":null},a("GENDER"),"*"),i.a.createElement(w.a.Control,{as:"select",onFocus:function(e){return N(e,"f_".concat(n,"_").concat(b),"selectGender")},onChange:function(e){c("f_".concat(n,"_").concat(b),"selectGender",e.target.value),e.target.blur()},onBlur:function(e){m("f_".concat(n,"_").concat(b),"selectGender"),e.target.className=h(e.target.className,s("f_".concat(n,"_").concat(b),"selectGender"))},defaultValue:o("f_".concat(n,"_").concat(b),"selectGender")},F.k.map(function(e,t){return i.a.createElement("option",{key:t,value:e.value},a(e.name))}),"}"))),i.a.createElement(f.a,{xs:12,md:4,lg:4,xl:3,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formName"+n+b},i.a.createElement(w.a.Label,{className:s("f_".concat(n,"_").concat(b),"firstName")?"err-label width-100":"width-100"},i.a.createElement("div",{className:"overflow-elipsis-labels"},a("FIRST_NAME")),i.a.createElement("div",null," *")),i.a.createElement(w.a.Control,{type:"text",onFocus:function(e){return N(e,"f_".concat(n,"_").concat(b),"firstName")},onBlur:function(e){c("f_".concat(n,"_").concat(b),"firstName",e.target.value),m("f_".concat(n,"_").concat(b),"firstName"),e.target.className=h(e.target.className,s("f_".concat(n,"_").concat(b),"firstName"))},defaultValue:o("f_".concat(n,"_").concat(b),"firstName")}))),i.a.createElement(f.a,{xs:12,md:4,lg:4,xl:3,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formLastName"+n+b},i.a.createElement(w.a.Label,{className:s("f_".concat(n,"_").concat(b),"lastName")?"err-label width-100":"width-100"},i.a.createElement("div",{className:"overflow-elipsis-labels"},a("LAST_NAME")),i.a.createElement("div",null," *")),i.a.createElement(w.a.Control,{type:"text",onFocus:function(e){return N(e,"f_".concat(n,"_").concat(b),"lastName")},onBlur:function(e){c("f_".concat(n,"_").concat(b),"lastName",e.target.value),m("f_".concat(n,"_").concat(b),"lastName"),e.target.className=h(e.target.className,s("f_".concat(n,"_").concat(b),"lastName"))},defaultValue:o("f_".concat(n,"_").concat(b),"lastName")}))),i.a.createElement(f.a,{xs:12,xl:4,className:"padding-lr10"},i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:12,className:"padding-lr5"},i.a.createElement(w.a.Label,{style:{minWidth:"100px"},className:A("f_".concat(n,"_").concat(b),["birthDay","birthMonth","birthYear"])},a("DATE_OF_BIRTH"),"*")),i.a.createElement(f.a,{xs:4,md:3,xl:4,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formBDay"+n+b},i.a.createElement(w.a.Control,{as:"select",className:e.bookForm["f_".concat(n,"_").concat(b)]&&e.bookForm["f_".concat(n,"_").concat(b)].birthDay.value?h("",s("f_".concat(n,"_").concat(b),"birthDay")):null,onFocus:function(e){return N(e,"f_".concat(n,"_").concat(b),"birthDay")},onChange:function(e){c("f_".concat(n,"_").concat(b),"birthDay",e.target.value),e.target.blur()},onBlur:function(a){p(e.bookForm,"f_".concat(n,"_").concat(b),["birthDay","birthMonth","birthYear"],c)},defaultValue:o("f_".concat(n,"_").concat(b),"birthDay")},i.a.createElement("option",null,"-day-"),Object(T.a)(1,31).map(function(e,a){return i.a.createElement("option",{key:a},e)})))),i.a.createElement(f.a,{xs:4,md:3,xl:4,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formBMonth"+n+b},i.a.createElement(w.a.Control,{as:"select",className:e.bookForm["f_".concat(n,"_").concat(b)]&&e.bookForm["f_".concat(n,"_").concat(b)].birthMonth.value?h("",s("f_".concat(n,"_").concat(b),"birthMonth")):null,onFocus:function(e){return N(e,"f_".concat(n,"_").concat(b),"birthMonth")},onChange:function(e){c("f_".concat(n,"_").concat(b),"birthMonth",e.target.value),e.target.blur()},onBlur:function(a){p(e.bookForm,"f_".concat(n,"_").concat(b),["birthDay","birthMonth","birthYear"],c)},defaultValue:o("f_".concat(n,"_").concat(b),"birthMonth")},i.a.createElement("option",null,"-month-"),Object(T.a)(1,12).map(function(e,a){return i.a.createElement("option",{key:a},e)})))),i.a.createElement(f.a,{xs:4,md:3,xl:4,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formBYear"+n+b},i.a.createElement(w.a.Control,{as:"select",className:e.bookForm["f_".concat(n,"_").concat(b)]&&e.bookForm["f_".concat(n,"_").concat(b)].birthYear.value?h("",s("f_".concat(n,"_").concat(b),"birthYear")):null,onFocus:function(e){return N(e,"f_".concat(n,"_").concat(b),"birthYear")},onChange:function(e){c("f_".concat(n,"_").concat(b),"birthYear",e.target.value),e.target.blur()},onBlur:function(a){p(e.bookForm,"f_".concat(n,"_").concat(b),["birthDay","birthMonth","birthYear"],c)},defaultValue:o("f_".concat(n,"_").concat(b),"birthYear")},i.a.createElement("option",null,"-year-"),Object(T.a)(parseInt(d()().subtract(t.years,"years").format("YYYY")),120,!0).map(function(e,a){return i.a.createElement("option",{key:a},e)}))))))),i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:12,md:6,xl:5,className:"padding-lr5"},u&&i.a.createElement(w.a.Group,{controlId:"formNat"+n+b,id:"nationality"},i.a.createElement(w.a.Label,{className:s("f_".concat(n,"_").concat(b),"nationality")?"err-label":null},a("NATIONALITY"),"*"),i.a.createElement(w.a.Control,{as:"select",onFocus:function(e){return N(e,"f_".concat(n,"_").concat(b),"nationality")},onChange:function(e){c("f_".concat(n,"_").concat(b),"nationality",e.target.value),e.target.blur()},onBlur:function(e){m("f_".concat(n,"_").concat(b),"nationality"),e.target.className=h(e.target.className,s("f_".concat(n,"_").concat(b),"nationality"))},defaultValue:o("f_".concat(n,"_").concat(b),"nationality")},i.a.createElement("option",{value:"0"},"- -"),u.map(function(e,t){return i.a.createElement("option",{key:t,value:e.code},$.hasOwnProperty(e.name)?a("countries:"+$[e.name]):e.name)})))),i.a.createElement(f.a,{xs:12,md:3,xl:3,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formIDNum"+n+b},i.a.createElement(w.a.Label,{className:s("f_".concat(n,"_").concat(b),"idNumber")?"err-label":null},a("PASSPORT_NUMBER"),"*"),i.a.createElement(w.a.Control,{type:"text",onFocus:function(e){return N(e,"f_".concat(n,"_").concat(b),"idNumber")},onBlur:function(e){c("f_".concat(n,"_").concat(b),"idNumber",e.target.value),m("f_".concat(n,"_").concat(b),"idNumber"),e.target.className=h(e.target.className,s("f_".concat(n,"_").concat(b),"idNumber"))},defaultValue:o("f_".concat(n,"_").concat(b),"idNumber")}))),i.a.createElement(f.a,{xs:12,xl:4,className:"padding-lr10"},i.a.createElement(E.a,null,i.a.createElement(f.a,{xs:12,className:"padding-lr5"},i.a.createElement(w.a.Label,{style:{minWidth:"100px"},className:A("f_".concat(n,"_").concat(b),["idExpDay","idExpMonth","idExpYear"])},a("PASSPORT_EXPIRY_DATE"),"*")),i.a.createElement(f.a,{xs:4,md:3,xl:4,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formExpDay"+n+b,className:"exception date-selection"},i.a.createElement(w.a.Control,{as:"select",className:e.bookForm["f_".concat(n,"_").concat(b)]&&e.bookForm["f_".concat(n,"_").concat(b)].idExpDay.value?h("",s("f_".concat(n,"_").concat(b),"idExpDay")):null,onFocus:function(e){return N(e,"f_".concat(n,"_").concat(b),"idExpDay")},onChange:function(e){c("f_".concat(n,"_").concat(b),"idExpDay",e.target.value),e.target.blur()},onBlur:function(a){p(e.bookForm,"f_".concat(n,"_").concat(b),["idExpDay","idExpMonth","idExpYear"],c)},defaultValue:o("f_".concat(n,"_").concat(b),"idExpDay")},i.a.createElement("option",null,"-day-"),Object(T.a)(1,31).map(function(e,a){return i.a.createElement("option",{key:a},e)})))),i.a.createElement(f.a,{xs:4,md:3,xl:4,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formExpMonth"+n+b,className:"exception date-selection"},i.a.createElement(w.a.Control,{as:"select",className:e.bookForm["f_".concat(n,"_").concat(b)]&&e.bookForm["f_".concat(n,"_").concat(b)].idExpMonth.value?h("",s("f_".concat(n,"_").concat(b),"idExpMonth")):null,onFocus:function(e){return N(e,"f_".concat(n,"_").concat(b),"idExpMonth")},onChange:function(e){c("f_".concat(n,"_").concat(b),"idExpMonth",e.target.value),e.target.blur()},onBlur:function(a){p(e.bookForm,"f_".concat(n,"_").concat(b),["idExpDay","idExpMonth","idExpYear"],c)},defaultValue:o("f_".concat(n,"_").concat(b),"idExpMonth")},i.a.createElement("option",null,"-month-"),Object(T.a)(1,12).map(function(e,a){return i.a.createElement("option",{key:a},e)})))),i.a.createElement(f.a,{xs:4,md:3,xl:4,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formExpYear"+n+b,className:"exception date-selection"},i.a.createElement(w.a.Control,{as:"select",className:e.bookForm["f_".concat(n,"_").concat(b)]&&e.bookForm["f_".concat(n,"_").concat(b)].idExpYear.value?h("",s("f_".concat(n,"_").concat(b),"idExpYear")):null,onFocus:function(e){return N(e,"f_".concat(n,"_").concat(b),"idExpYear")},onChange:function(e){c("f_".concat(n,"_").concat(b),"idExpYear",e.target.value),e.target.blur()},onBlur:function(a){p(e.bookForm,"f_".concat(n,"_").concat(b),["idExpDay","idExpMonth","idExpYear"],c)},defaultValue:o("f_".concat(n,"_").concat(b),"idExpYear")},i.a.createElement("option",null,"-year-"),Object(T.a)(parseInt(d()().format("YYYY")),21).map(function(e,a){return i.a.createElement("option",{key:a},e)})))))),i.a.createElement(f.a,{xs:12,md:6,xl:5,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formFlyer"+n+b},i.a.createElement(w.a.Label,null,a("FREQUENT_FLYER_PROGRAM")),i.a.createElement(w.a.Control,{as:"select",onChange:function(e){c("f_".concat(n,"_").concat(b),"flyerProgram",e.target.value);var a=o("f_".concat(n,"_").concat(b),"flyerProgram");/^-/.test(a)?l(function(e){return e.has("f_".concat(n,"_").concat(b))?(e.delete("f_".concat(n,"_").concat(b)),e):e}):l(function(e){return e.add("f_".concat(n,"_").concat(b))})},defaultValue:o("f_".concat(n,"_").concat(b),"flyerProgram")},i.a.createElement("option",null,"- -"),g.map(function(e,a){return i.a.createElement("option",{key:a},e)})))),i.a.createElement(f.a,{xs:12,md:4,xl:3,className:"padding-lr5"},i.a.createElement(w.a.Group,{controlId:"formFlyerNumber"+n+b,id:"flyer-number",className:r.has("f_".concat(n,"_").concat(b))?null:"disappear"},i.a.createElement(w.a.Label,{className:s("f_".concat(n,"_").concat(b),"flyerNumber")?"err-label":null},a("FREQUENT_FLYER_NUMBER")),i.a.createElement(w.a.Control,{className:r.has("f_".concat(n,"_").concat(b))?null:"disappear",type:"text",onBlur:function(e){c("f_".concat(n,"_").concat(b),"flyerNumber",e.target.value)},defaultValue:o("f_".concat(n,"_").concat(b),"flyerNumber")}))))))}))}))},te=t(2),ne=t(124),re=t(1),le={total:{cancel:0,protection:0},gold:0,standard:0,missed:0};function ce(e,a,t,n){var r=e.filter(function(e){return!Array.isArray(e)}).map(function(e){return Object.assign({},e)}),l=r.findIndex(function(e){return Object.keys(e)[0]===a.payload}),c=r.splice(l,1)[0];c[a.payload][n].value=t,[re.f,re.R,re.m].includes(t)?t===re.m?c[a.payload][n].cost=0:c[a.payload][n].cost=le[t.toLowerCase()]:[re.p,re.n].includes(t)&&(t===re.n?c[a.payload][n].cost=0:c[a.payload][n].cost=le.missed),r.splice(l,0,c);var o=[],s=0,i=0;return r.forEach(function(e,a){var t=e[Object.keys(e)[0]].cancel.value;t===re.f?(s+=parseFloat(le.gold),o.push(re.f)):t===re.R?(s+=parseFloat(le.standard),o.push(re.R)):t===re.m&&o.push(re.m);var n=e[Object.keys(e)[0]].protection.value;n===re.p?(i+=parseFloat(le.missed),o.push(re.p)):n===re.n&&o.push(re.n)}),le.total.cancel=s,le.total.protection=i,[o].concat(Object(ne.a)(r))}var oe=function(e,a){switch(a.type){case re.f:return e.filter(function(e,t){if(0!==t&&Object.keys(e)[0]===a.payload)return e})[0][a.payload].cancel.value===re.f?ce(e,a,re.m,"cancel"):ce(e,a,re.f,"cancel");case re.R:return e.filter(function(e,t){if(0!==t&&Object.keys(e)[0]===a.payload)return e})[0][a.payload].cancel.value===re.R?ce(e,a,re.m,"cancel"):ce(e,a,re.R,"cancel");case re.m:return ce(e,a,re.m,"cancel");case re.p:return e.filter(function(e,t){if(0!==t&&Object.keys(e)[0]===a.payload)return e})[0][a.payload].protection.value===re.p?ce(e,a,re.n,"protection"):ce(e,a,re.p,"protection");case re.n:return ce(e,a,re.n,"protection");case"INIT":return[[re.m,re.n]].concat(Object(ne.a)(a.payload));default:return e}};function se(e){var a=e.state,t=e.dispatch,n=e.type,r=e.field,l=e.cost;return i.a.createElement("div",null,a.map(function(e,a){if(0!==a){var c=Object.keys(e)[0];return i.a.createElement("p",{key:a,onClick:function(e){e.stopPropagation(),t({type:n,payload:c,fee:l.fee})}},e[c][r].value===n?i.a.createElement("span",null,"\u2611"):i.a.createElement("span",null,"\u2610")," ".concat(e[c].firstName.value," ").concat(e[c].lastName.value))}}))}var ie=function(e){var a=e.activeTabProps,t=e.bookForm,n=e.lang,r=e.curr,l=e.t,c=e.selectedFlight.currency,o=e.selectedFlight.data2.cancel_travelwaiver,s=o.gold,m=o.standard,p=o.missed;Object.assign(le,{gold:s,standard:m,missed:p});var u=i.a.useState("disappear"),d=Object(X.a)(u,2),g=d[0],h=d[1],N=i.a.useState({cancelGold:"hide",cancelStandard:"hide",protection:"hide"}),A=Object(X.a)(N,2),_=A[0],b=A[1],I=i.a.useState("disappear"),v=Object(X.a)(I,2),y=v[0],O=v[1],S=i.a.useReducer(oe,[]),R=Object(X.a)(S,2),T=R[0],x=R[1],F=function(e){T.forEach(function(a,t){0!==t&&x({type:e,payload:Object.keys(a)[0]})})};return i.a.useEffect(function(){var e=Object.keys(t).filter(function(e){return/^f_/.test(e)}).map(function(e){var a={};return a[e]=t[e],a});x({type:"INIT",payload:e})},[]),i.a.useEffect(function(){F(re.m),F(re.n)},[]),i.a.useEffect(function(){e.appActions.setPersonalInput(t,"services",le.total)},[le.total.cancel,le.total.protection]),i.a.createElement("div",{id:"additional-services-tab",className:2===a?null:"disappear"},i.a.createElement("div",{className:"passengers"},i.a.createElement("h2",{className:"text-left Roboto"},l("CANCELLATION"),":"),i.a.createElement(E.a,{onClick:function(){return h("")},className:"cancel"},i.a.createElement(f.a,{id:"gold",className:"services",onClick:function(e){F(re.f),b(function(e){return Object(te.a)({},e,{cancelGold:""})})}},i.a.createElement("div",{id:"triangle-topright"},i.a.createElement("p",null,l("HOTEL_BEST_VALUE"),"!")),i.a.createElement("div",{className:"header"},i.a.createElement("h1",null,i.a.createElement("span",{className:"checkbox"},T[0]&&T[0].includes(re.f)?i.a.createElement("span",null,"\u2714"):null),l("CANCEL_GOLD")),i.a.createElement("p",null,l("NOTE_GOLD")),i.a.createElement("p",null,i.a.createElement("i",null,"".concat(s.toLocaleString(n.locale.replace("_","-"),{maximumFractionDigits:parseInt(r.decimal)})," ").concat(c)," ","per passenger"))),i.a.createElement("div",{className:"persons "+g+" "+_.cancelGold},i.a.createElement(se,{field:"cancel",state:T,dispatch:x,type:re.f,cost:{fee:s,currency:c}}))),i.a.createElement(f.a,{id:"standard",className:"services",onClick:function(){F(re.R),b(function(e){return Object(te.a)({},e,{cancelStandard:""})})}},i.a.createElement("div",{className:"header"},i.a.createElement("h1",null,i.a.createElement("span",{className:"checkbox"},T[0]&&T[0].includes(re.R)?i.a.createElement("span",null,"\u2714"):null),l("CANCEL_STANDARD")),i.a.createElement("p",null,l("NOTE_STANDARD")),i.a.createElement("p",null,i.a.createElement("i",null,"".concat(m.toLocaleString(n.locale.replace("_","-"),{maximumFractionDigits:parseInt(r.decimal)})," ").concat(c)," ","per passenger"))),i.a.createElement("div",{className:"persons "+g+" "+_.cancelStandard},i.a.createElement(se,{field:"cancel",state:T,dispatch:x,type:re.R,cost:{fee:m,currency:c}}))),i.a.createElement(f.a,{id:"none",className:"services",onClick:function(){F(re.m)}},i.a.createElement("div",{className:"header"},i.a.createElement("h1",null," ",i.a.createElement("span",{className:"checkbox"},T[0]&&T[0].includes(re.m)?i.a.createElement("span",null,"\u2714"):null),l("CANCEL_NOT")),i.a.createElement("p",{style:{visibility:"hidden"}},"text")),i.a.createElement("div",{className:"persons "+g+" hide"},i.a.createElement(se,{field:"cancel",state:T,dispatch:x,type:re.m,cost:{fee:0,currency:c}}))))),i.a.createElement("div",{className:"passengers"},i.a.createElement("h2",{className:"text-left Roboto"},l("CANCEL_MISSED"),":"),i.a.createElement(E.a,{onClick:function(){return O("")},className:"protection-row"},i.a.createElement(f.a,{id:"yes",className:"protection",onClick:function(){F(re.p),b(function(e){return Object(te.a)({},e,{protection:""})})}},i.a.createElement("div",{className:"header"},i.a.createElement("h1",null,i.a.createElement("span",{className:"checkbox"},T[0]&&T[0].includes(re.p)?i.a.createElement("span",null,"\u2714"):null),"Yes!"),i.a.createElement("p",null,l("NOTE_MISSED")),i.a.createElement("p",null,i.a.createElement("i",null,"".concat(p.toLocaleString(n.locale.replace("_","-"),{maximumFractionDigits:parseInt(r.decimal)})," ").concat(c)," ","per passenger"))),i.a.createElement("div",{className:"persons "+y+" "+_.protection},i.a.createElement(se,{field:"protection",state:T,dispatch:x,type:re.p,cost:{fee:p,currency:c}}))),i.a.createElement(f.a,{id:"none",className:"protection",onClick:function(){return F(re.n)}},i.a.createElement("div",{className:"header"},i.a.createElement("h1",null,i.a.createElement("span",{className:"checkbox"},T[0]&&T[0].includes(re.n)?i.a.createElement("span",null,"\u2714"):null),"No"),i.a.createElement("p",{style:{visibility:"hidden"}},l("NOTE_MISSED"))),i.a.createElement("div",{className:"persons "+y+" hide "},i.a.createElement(se,{field:"protection",state:T,dispatch:x,type:re.n,cost:{fee:0,currency:c}}))))))};function me(e){return i.a.createElement("span",null,i.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"edit",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:"svg-inline--fa",style:{margin:"auto .3em",paddingBottom:"2px"}},i.a.createElement("path",{fill:"currentColor",d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"})),e.children)}function pe(e){return i.a.createElement("span",null,i.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus-square",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"svg-inline--fa",style:{margin:"auto .3em",fontSize:"1.1em"}},i.a.createElement("path",{fill:"currentColor",d:"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"})),e.children)}function ue(e){return i.a.createElement("span",null,i.a.createElement(_.a,{icon:b.j,style:{fontSize:"1em",paddingBottom:"2px",margin:"auto .3em"}}),e.children)}var de=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(c.a)(a).call(this,e))).createForm=function(){var e=t.props.selectedFlight.search,a=[];F.m.forEach(function(t){if(e[t.which]&&parseInt(e[t.which])>0)for(var n=0;n<parseInt(e[t.which]);n++)a.push("f_".concat(t.id,"_").concat(n))});var n={};a.forEach(function(e){n[e]={selectGender:{value:"",err:""},firstName:{value:"",err:""},middleName:{value:"",err:""},lastName:{value:"",err:""},birthDay:{value:"",err:""},birthMonth:{value:"",err:""},birthYear:{value:"",err:""},idType:{value:"",err:""},idNumber:{value:"",err:""},idExpDay:{value:"",err:""},idExpMonth:{value:"",err:""},idExpYear:{value:"",err:""},nationality:{value:"",err:""},cancel:{value:"",cost:"",err:""},emissions:{value:"",err:""},protection:{value:"",cost:"",err:""},meal:{value:"",err:""},seat:{value:"",err:""},flyerProgram:{value:"",err:""},flyerNumber:{value:"",err:""}}}),t.props.appActions.setBookForm(n)},t.updatePassengers=function(){var e=Object.keys(t.props.bookForm).filter(function(e){return/^f_/.test(e)});e&&t.props.appActions.resetBookForm(t.props.bookForm,e)},t.getInput=function(e,a,t){return a&&e[a]?e[a][t].value?e[a][t].value:"":e[t]?e[t].value?e[t].value:"":void 0},t.getError=function(e,a,n){if("string"===typeof n&&e[a]){if(e[a][n].err||e[a][n].value)return e[a][n].err?"has-error":null}else if(e[n]){if(e[n].err||e[n].value)return e[n].err?"has-error":null}else Array.isArray(n)&&n.forEach(function(n){return t.getError(e,a,n)})},t.inputCapture=function(e,a,n,r,l,c){t.props.appActions.setInput(e,a,n,r,l,c)},t.inputCapturePersonal=function(e,a,n,r,l){t.props.appActions.setPersonalInput(e,a,n)},t.validateFields=function(e,a,n){var r,l=t.props.appActions.setInput,c=t.props.appActions.setPersonalInput,o={select:["selectGender","nationality","idNumber","countryCode"],string:["firstName","lastName"],email:["email","repeatEmail"],phone:["phoneNumber"],date:["birthDay","birthMonth","birthYear","idExpDay","idExpMonth","idExpYear"]},s=!1;if(a){var i=e[a][n].value,m=[e,a,n,null];if(o.date.includes(n))if(i)s=!!e[a][n].err||s;else l.apply(void 0,m.concat(["empty!",!0])),s=!0;else if(o.select.includes(n)){var p=Z(i);l.apply(void 0,m.concat([p,!0])),s=!!p||s}else if(o.string.includes(n)){var u=""==(r=i)||/^[\s]+$/gi.test(r)?"This cannot be empty!":/[^(A-Za-z\s)]+/gi.test(r)?"Must contain only letters":"";l.apply(void 0,m.concat([u,!0])),s=!!u||s}else if(o.email.includes(n)){var d=Q(i);l.apply(void 0,m.concat([d,!0])),s=!!d||s}else if(o.phone.includes(n)){var g=J(i);l.apply(void 0,m.concat([g,!0])),s=!!g||s}}else{var E=e[n],h=[e,n,null];if(o.select.includes(n)){var f=Z(E.value);c.apply(void 0,h.concat([f,!0])),s=!!f||s}else if(o.email.includes(n)){var N=Q(E.value);c.apply(void 0,h.concat([N,!0])),s=!!N||s}else if(o.phone.includes(n)){var A=J(E.value);c.apply(void 0,h.concat([A,!0])),s=!!A||s}}return s},t.scroll=function(){setTimeout(function(){return K.scroller.scrollTo("page-top",{duration:1e3,delay:100,smooth:!0})},500)},t.submitHandler=function(){var e="Data entered in some fields are incorrect. Check them out below...";t.setState({errorInForm:""});var a=t.props.bookForm;Object.keys(a).forEach(function(n){/^f_/.test(n)?(q(a,n,["birthDay","birthMonth","birthYear"],function(e,n,r,l,c){return t.inputCapture(a,e,n,r,l,c)}),q(a,n,["idExpDay","idExpMonth","idExpYear"],function(e,n,r,l,c){return t.inputCapture(a,e,n,r,l,c)}),Object.keys(a[n]).forEach(function(r){t.validateFields(a,n,r)&&t.setState({errorInForm:e})})):t.validateFields(a,null,n)&&t.setState({errorInForm:e})}),a.email&&a.email.value!==a.repeatEmail.value&&(t.setState({errorInForm:e}),t.props.appActions.setPersonalInput(a,"repeatEmail",void 0,"Both emails must match",!0)),setTimeout(function(){if(!t.state.errorInForm){for(;1==t.props.bookForm.stage;)t.props.appActions.setPersonalInput(t.props.bookForm,"stage",2);t.setState({activeTab:2})}},50)},t.submitTab=function(){switch(t.state.activeTab){case 1:t.scroll(),t.submitHandler();break;case 2:var e=t.props.appActions.stringifyRequest(t.props.bookForm,t.props.selectedFlight.booking_uuid,t.props.lang.value,t.props.curr.cc);console.log("the query that will be sent to backend:",e.payload.usersData),t.props.appActions.storeReservation(e.payload.usersData,t.props.selectedFlight),t.scroll()}},t.changeTab=function(e){if(e!==t.state.activeTab)switch(e){case 1:t.setState({activeTab:e,errorInForm:""}),t.props.appActions.setPersonalInput(t.props.bookForm,"stage",1);break;case 2:t.submitTab();break;default:t.submitTab()}},t.state={countryPhoneData:null,errorInForm:"",activeTab:1},t.isUnmounted=!1,t}return Object(o.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,a="";U.a.get("/data/countryPhoneData.json").catch(function(e){}).then(function(t){e.isUnmounted||(a=t.data),e.setState({countryPhoneData:a})}),console.log("flight key",this.props.flightKey),this.props.selectedFlight.cache_key+this.props.selectedFlight.book!==this.props.flightKey&&(this.updatePassengers(),this.createForm())}},{key:"componentWillUnmount",value:function(){this.isUnmounted=!0}},{key:"render",value:function(){var e=this,a=this.props,t=a.bookForm,n=a.t,r=this.props.appActions.setPersonalInput;return i.a.createElement("div",{className:"mt-4 with-shadow",name:"page-top"},i.a.createElement(K.Element,{name:"page-top"}),i.a.createElement(z,null,i.a.createElement(W,{onClick:function(){return e.changeTab(1)},className:1===this.state.activeTab?"active-tab":null},i.a.createElement(me,null,i.a.createElement("span",{className:"long-desc"},Object.values(this.props.numPeople).reduce(function(e,a){return e+a})>1?"Passengers":"Passenger"," ","Information"),i.a.createElement("span",{className:"short-desc"},Object.values(this.props.numPeople).reduce(function(e,a){return e+a})>1?"Passengers":"Passenger"))),i.a.createElement(W,{onClick:function(){return e.changeTab(2)},className:2===this.state.activeTab?"active-tab":null},i.a.createElement(pe,null,i.a.createElement("span",{className:"long-desc"},"Additional Services"),i.a.createElement("span",{className:"short-desc"},"Services"))),i.a.createElement(W,{onClick:function(){return e.changeTab(3)},className:3===this.state.activeTab?"active-tab":null},i.a.createElement(ue,null,i.a.createElement("span",{className:"long-desc"},"Review & Payment"),i.a.createElement("span",{className:"short-desc"},"Payment")))),i.a.createElement(y.a,null,i.a.createElement(f.a,{className:"padding-tb15"},i.a.createElement(w.a,{className:"text-left bookForm"},this.state.errorInForm?i.a.createElement(V.a,{variant:"danger",id:"form-alert"},this.state.errorInForm):null,i.a.createElement("div",{key:this.props.flightKey,id:"passenger-info-tab",className:1===this.state.activeTab?null:"disappear"},i.a.createElement(ae,Object.assign({},this.props,{inputCaptureProps:function(a,n,r,l,c){return e.inputCapture(t,a,n,r,l,c)},defaultValueProps:function(a,n){return e.getInput(t,a,n)},getErrorProps:function(a,n){return e.getError(t,a,n)},validateFieldsProps:function(a,n){return e.validateFields(t,a,n)},validateDatesProps:q,countryPhoneDataProps:this.state.countryPhoneData,flyerProgramProps:Object.values(this.props.selectedFlight.flyer_program)})),i.a.createElement(ee,Object.assign({},this.props,{inputCaptureProps:function(a,n,r,l){return e.inputCapturePersonal(t,a,n,r,l)},defaultValueProps:function(a,n){return e.getInput(t,a,n)},getErrorProps:function(a,n){return e.getError(t,a,n)},setPersonalInputProps:function(e,a,n,l){return r(t,e,a,n,l)},validateFieldsProps:function(a,n){return e.validateFields(t,a,n)},countryPhoneDataProps:this.state.countryPhoneData}))),t.stage>1?i.a.createElement(ie,Object.assign({},this.props,{activeTabProps:this.state.activeTab})):null,t.stage>2?i.a.createElement("div",{id:"payment-tab",className:3===this.state.activeTab?null:"disappear"},i.a.createElement("h2",{className:"svg"},"payment-tab is comming soon")):null,i.a.createElement(f.a,{xs:12,className:"text-right margin-t20 "},i.a.createElement("div",{className:"d-block d-lg-none float-right text-light-gray",onClick:function(){return e.props.setModalPrice(!0)}},i.a.createElement("span",{className:"margin-r10"}),i.a.createElement(_.a,{icon:b.l,className:"fa-2x cursor-pointer"})),i.a.createElement("div",{className:"float-right margin-t10 text-light-gray"},n("TOTAL_TO_PAY").toLowerCase()),i.a.createElement("div",{className:"clearfix"}),i.a.createElement("div",{className:"float-right font28"},i.a.createElement("strong",{className:"shadow-color"},t.services?(this.props.selectedFlight.TOTAL_PRICE+Object.values(t.services).reduce(function(e,a){return parseFloat(e)+parseFloat(a)})).toLocaleString(this.props.lang.locale.replace("_","-"),{maximumFractionDigits:parseInt(this.props.curr.decimal)}):this.props.selectedFlight.TOTAL_PRICE)," ",i.a.createElement("span",{className:"font18 shadow-color "},this.props.selectedFlight.currency))),i.a.createElement(f.a,{xs:12,sm:{offset:6,span:6},md:{offset:8,span:4},className:"text-right margin-t5"},i.a.createElement("div",{className:"clearfix"}),i.a.createElement(Y.a,{className:"width-100 accent has-glow",onClick:this.submitTab},"Continue"))))))}}]),a}(s.Component),ge=t(83),Ee=t.n(ge),he=t(369),fe=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(c.a)(a).call(this,e))).setModalPrice=function(e){t.setState({modalPriceSummary:e})},t.state={modalPriceSummary:!1},t}return Object(o.a)(a,e),Object(r.a)(a,[{key:"componentWillMount",value:function(){if(this.props.selectedFlight&&this.props.selectedFlight.hasOwnProperty("from_search")&&this.props.selectedFlight.from_search){var e=Ee()(this.props.selectedFlight);e.from_search=!1,this.props.appActions.setSelectedFlight(e)}else this.props.appActions.getFlightDetails(decodeURIComponent(window.location.search),!1)}},{key:"componentDidMount",value:function(){if(this.props.selectedFlight&&this.props.selectedFlight.TOTAL_PRICE){var e={adult:parseInt(this.props.selectedFlight.search.adult),child:parseInt(this.props.selectedFlight.search.child),infant:parseInt(this.props.selectedFlight.search.infant),senior:parseInt(this.props.selectedFlight.search.senior),youth:parseInt(this.props.selectedFlight.search.youth)};this.props.appActions.setNumPeople(e)}}},{key:"render",value:function(){var e=this,a=this.props.t;return i.a.createElement("div",{className:"confirmation-back"},i.a.createElement(p.a,Object.assign({},this.props,{page:"flight"})),i.a.createElement(m.a,this.props),i.a.createElement(he.a,Object.assign({},this.props,{toHome:!0})),this.props.selectedFlight&&this.props.selectedFlight.TOTAL_PRICE?i.a.createElement("div",null,i.a.createElement(S.a,{show:this.state.modalPriceSummary,onHide:function(){return e.setModalPrice(!1)}},i.a.createElement(S.a.Header,{closeButton:!0},i.a.createElement(S.a.Title,null,i.a.createElement("h4",null,a("SUMMARY_OF_CHARGES")))),i.a.createElement(S.a.Body,null,i.a.createElement(L,Object.assign({},this.props,{modal:this.state.modalPriceSummary})))),i.a.createElement(k.a,{className:"margin-t50"},i.a.createElement(f.a,{className:"clearfix"}),i.a.createElement(E.a,{className:"margin-b50"},i.a.createElement(f.a,{xs:12,lg:8},i.a.createElement(E.a,null,i.a.createElement(M,Object.assign({},this.props,{setModalPrice:this.setModalPrice}))),i.a.createElement(de,Object.assign({id:"bookform"},this.props,{setModalPrice:this.setModalPrice}))),i.a.createElement(f.a,{xs:12,lg:4},i.a.createElement("div",{className:"d-none d-xl-block position-sticky-top d-md-none d-lg-block"},i.a.createElement(y.a,{className:"margin-t10 font14 "},i.a.createElement(L,this.props))))))):i.a.createElement("div",null,i.a.createElement(A.a,{src:"/images/st_logo_white.svg",width:"70%",className:"padding-tb50"})))}}]),a}(s.Component);a.default=Object(D.f)(fe)}}]);